<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Support for serde integration. Enable this with the `serde` feature."><title>bincode::serde - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="bincode" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.1 (ed61e7d7e 2025-11-07)" data-channel="1.91.1" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module serde</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../bincode/index.html">bincode</a><span class="version">2.0.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module serde</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#known-issues" title="Known issues">Known issues</a></li><li><a href="#why-move-away-from-serde" title="Why move away from serde?">Why move away from serde?</a></li></ul><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate bincode</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">bincode</a></div><h1>Module <span>serde</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/bincode/features/serde/mod.rs.html#1-303">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Support for serde integration. Enable this with the <code>serde</code> feature.</p>
<p>To encode/decode type that implement serde’s trait, you can use:</p>
<ul>
<li><a href="fn.borrow_decode_from_slice.html" title="fn bincode::serde::borrow_decode_from_slice">borrow_decode_from_slice</a></li>
<li><a href="fn.decode_from_slice.html" title="fn bincode::serde::decode_from_slice">decode_from_slice</a></li>
<li><a href="fn.encode_into_slice.html" title="fn bincode::serde::encode_into_slice">encode_into_slice</a></li>
<li><a href="fn.encode_to_vec.html" title="fn bincode::serde::encode_to_vec">encode_to_vec</a></li>
</ul>
<p>For interop with bincode’s <a href="../de/trait.Decode.html">Decode</a>/<a href="../enc/trait.Encode.html">Encode</a>, you can use:</p>
<ul>
<li><a href="struct.Compat.html" title="struct bincode::serde::Compat">Compat</a></li>
<li><a href="struct.BorrowCompat.html" title="struct bincode::serde::BorrowCompat">BorrowCompat</a></li>
</ul>
<p>For interop with bincode’s <code>derive</code> feature, you can use the <code>#[bincode(with_serde)]</code> attribute on each field that implements serde’s traits.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attr">#[derive(Serialize, Deserialize)]
</span><span class="kw">pub struct </span>SerdeType {
    <span class="comment">// ...
</span>}

<span class="attr">#[derive(Decode, Encode)]
</span><span class="kw">pub struct </span>StructWithSerde {
    <span class="attr">#[bincode(with_serde)]
    </span><span class="kw">pub </span>serde: SerdeType,
}

<span class="attr">#[derive(Decode, Encode)]
</span><span class="kw">pub enum </span>EnumWithSerde {
    Unit(<span class="attr">#[bincode(with_serde)] </span>SerdeType),
    Struct {
        <span class="attr">#[bincode(with_serde)]
        </span>serde: SerdeType,
    },
}</code></pre></div><h2 id="known-issues"><a class="doc-anchor" href="#known-issues">§</a>Known issues</h2>
<p>Because bincode is a format without meta data, there are several known issues with serde’s attributes. Please do not use any of the following attributes if you plan on using bincode, or use bincode’s own <code>derive</code> macros.</p>
<ul>
<li><code>#[serde(flatten)]</code></li>
<li><code>#[serde(skip)]</code></li>
<li><code>#[serde(skip_deserializing)]</code></li>
<li><code>#[serde(skip_serializing)]</code></li>
<li><code>#[serde(skip_serializing_if = "path")]</code></li>
<li><code>#[serde(tag = "...")]</code></li>
<li><code>#[serde(untagged)]</code></li>
</ul>
<p><strong>Using any of the above attributes can and will cause issues with bincode and will result in lost data</strong>. Consider using bincode’s own derive macro instead.</p>
<h2 id="why-move-away-from-serde"><a class="doc-anchor" href="#why-move-away-from-serde">§</a>Why move away from serde?</h2>
<p>Serde is a great library, but it has some issues that makes us want to be decoupled from serde:</p>
<ul>
<li>The issues documented above with attributes.</li>
<li>Serde has chosen to not have a MSRV (<a href="https://github.com/serde-rs/serde/pull/2257">source</a>). We think MSRV is important, bincode 1 still compiles with rust 1.18.</li>
<li>Before serde we had rustc-serializer. Serde has more than replaced rustc-serializer, but we can imagine a future where serde is replaced by something else.</li>
<li>We believe that less dependencies is better, and that you should be able to choose your own dependencies. If you disable all features, bincode 2 only has 1 dependency. (<a href="https://crates.io/crates/unty"><code>unty</code></a>, a micro crate we manage ourselves)</li>
</ul>
<p><strong>note:</strong> just because we’re making serde an optional dependency, it does not mean we’re dropping support for serde. Serde will still be fully supported, we’re just giving you the option to not use it.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.BorrowCompat.html" title="struct bincode::serde::BorrowCompat">Borrow<wbr>Compat</a></dt><dd>Wrapper struct that implements <a href="../de/trait.BorrowDecode.html">BorrowDecode</a> and <a href="../enc/trait.Encode.html">Encode</a> on any type that implements serde’s <a href="https://docs.rs/serde/1/serde/de/trait.Deserialize.html">Deserialize</a> and <a href="https://docs.rs/serde/1/serde/trait.Serialize.html">Serialize</a> respectively. This is mostly used on <code>&amp;[u8]</code> and <code>&amp;str</code>, for other types consider using <a href="struct.Compat.html" title="struct bincode::serde::Compat">Compat</a> instead.</dd><dt><a class="struct" href="struct.BorrowedSerdeDecoder.html" title="struct bincode::serde::BorrowedSerdeDecoder">Borrowed<wbr>Serde<wbr>Decoder</a></dt><dd>Serde decoder encapsulating a borrowed reader.</dd><dt><a class="struct" href="struct.Compat.html" title="struct bincode::serde::Compat">Compat</a></dt><dd>Wrapper struct that implements <a href="../de/trait.Decode.html">Decode</a> and <a href="../enc/trait.Encode.html">Encode</a> on any type that implements serde’s <a href="https://docs.rs/serde/1/serde/de/trait.DeserializeOwned.html">DeserializeOwned</a> and <a href="https://docs.rs/serde/1/serde/trait.Serialize.html">Serialize</a> respectively.</dd><dt><a class="struct" href="struct.OwnedSerdeDecoder.html" title="struct bincode::serde::OwnedSerdeDecoder">Owned<wbr>Serde<wbr>Decoder</a></dt><dd>Serde decoder encapsulating an owned reader.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.DecodeError.html" title="enum bincode::serde::DecodeError">Decode<wbr>Error</a></dt><dd>A serde-specific error that occurred while decoding.</dd><dt><a class="enum" href="enum.EncodeError.html" title="enum bincode::serde::EncodeError">Encode<wbr>Error</a></dt><dd>A serde-specific error that occurred while encoding.</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.borrow_decode_from_slice.html" title="fn bincode::serde::borrow_decode_from_slice">borrow_<wbr>decode_<wbr>from_<wbr>slice</a></dt><dd>Attempt to decode a given type <code>D</code> from the given slice. Returns the decoded output and the amount of bytes read.</dd><dt><a class="fn" href="fn.decode_from_reader.html" title="fn bincode::serde::decode_from_reader">decode_<wbr>from_<wbr>reader</a></dt><dd>Attempt to decode a given type <code>D</code> from the given <a href="../de/read/trait.Reader.html" title="trait bincode::de::read::Reader">Reader</a>.</dd><dt><a class="fn" href="fn.decode_from_slice.html" title="fn bincode::serde::decode_from_slice">decode_<wbr>from_<wbr>slice</a></dt><dd>Attempt to decode a given type <code>D</code> from the given slice. Returns the decoded output and the amount of bytes read.</dd><dt><a class="fn" href="fn.encode_into_slice.html" title="fn bincode::serde::encode_into_slice">encode_<wbr>into_<wbr>slice</a></dt><dd>Encode the given value into the given slice. Returns the amount of bytes that have been written.</dd><dt><a class="fn" href="fn.encode_into_writer.html" title="fn bincode::serde::encode_into_writer">encode_<wbr>into_<wbr>writer</a></dt><dd>Encode the given value into a custom <a href="../enc/write/trait.Writer.html" title="trait bincode::enc::write::Writer">Writer</a>.</dd><dt><a class="fn" href="fn.encode_to_vec.html" title="fn bincode::serde::encode_to_vec">encode_<wbr>to_<wbr>vec</a></dt><dd>Encode the given value into a <code>Vec&lt;u8&gt;</code> with the given <code>Config</code>. See the <a href="../config/index.html">config</a> module for more information.</dd><dt><a class="fn" href="fn.seed_decode_from_slice.html" title="fn bincode::serde::seed_decode_from_slice">seed_<wbr>decode_<wbr>from_<wbr>slice</a></dt><dd>Decode a borrowed type from the given slice using a seed. Some parts of the decoded type are expected to be referring to the given slice</dd></dl></section></div></main></body></html>